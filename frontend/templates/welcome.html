{% extends "layout.html" %}

{% block title %}Chào mừng đến với WonderChess{% endblock %}

{% block body_class %}learn-adventure-background{% endblock %}

{% block body_content %}
<div id="welcome-screen" class="d-flex justify-content-center align-items-center vh-100">
    <div class="welcome-container text-center">
        <h1 class="welcome-title mb-4">Chào Mừng Đến Với WonderChess</h1>
        <p class="welcome-question mb-4">Tôi có thể gọi bạn là gì?</p>
        <form id="nickname-form" class="mx-auto" style="max-width: 400px;">
            <input type="text" id="nickname-input" class="form-control mb-3" placeholder="Nhập nickname của bạn..." required>
            <button type="submit" class="start-button w-100">Bắt Đầu!</button>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const nicknameForm = document.getElementById('nickname-form');
        const nicknameInput = document.getElementById('nickname-input');

        if (nicknameForm) {
            nicknameForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const nickname = nicknameInput.value.trim();
                if (nickname) {
                    localStorage.setItem('userNickname', nickname);
                    window.location.href = '/';
                }
            });
        }

        if (localStorage.getItem('userNickname')) {
            window.location.href = '/';
        }
    });
</script>
{% endblock %}
