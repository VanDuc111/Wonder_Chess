{% extends "layout.html" %}

{% block title %}Chào mừng đến với WonderChess{% endblock %}

{% block body_class %}learn-adventure-background{% endblock %}

{% block body_content %}
<div id="welcome-screen" class="d-flex justify-content-center align-items-center vh-100">
    <div class="welcome-container text-center">
        <h1 class="welcome-title mb-5">Chào Mừng Đến Với WonderChess</h1>
        <form id="welcome-form" class="mx-auto" style="max-width: 300px;">
            <button type="submit" class="start-button d-flex align-items-center justify-content-center gap-2">
                BẮT ĐẦU!
                <i class="bi bi-arrow-right-circle-fill fs-4"></i>
            </button>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const welcomeForm = document.getElementById('welcome-form');

        if (welcomeForm) {
            welcomeForm.addEventListener('submit', (e) => {
                e.preventDefault();
                // Đánh dấu là đã xem trang chào mừng
                localStorage.setItem('welcomeShown', 'true');
                window.location.href = '/';
            });
        }

        // Nếu đã xem rồi thì redirect thẳng vào trang chủ
        if (localStorage.getItem('welcomeShown')) {
            window.location.href = '/';
        }
    });
</script>
{% endblock %}
